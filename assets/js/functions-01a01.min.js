// jQuery.browser.mobile (http://detectmobilebrowser.com/)
(function(a) {
  (jQuery.browser = jQuery.browser || {}).mobile = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))
})(navigator.userAgent || navigator.vendor || window.opera);
// Main JS
function viewport(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"],height:t[e+"Height"]}}
function toggle_main_menu(){if(viewport().width<=window.xs_screen_max){var t=$("#left-sidebar #mobile-menu-icon"),e=$("#left-sidebar #main-menu");e.is(":visible")?e.addClass("menu_closed_on_xs").removeClass("menu_opened_on_xs").slideUp("fast",function(){t.removeClass("active")}):e.addClass("menu_opened_on_xs").removeClass("menu_closed_on_xs").slideDown("fast",function(){t.addClass("active")})}}
function main_menu_visiblity_on_resize(){var t=$("#left-sidebar #main-menu");viewport().width>window.xs_screen_max?t.hasClass("menu_closed_on_xs")&&t.show():(t.hasClass("menu_closed_on_xs")&&t.hide(),t.hasClass("menu_opened_on_xs")&&t.show())}
function sections_content_vertical_position(){if(viewport().width>window.xs_screen_max){var t=$(window).height(),e=.8*t;$("#main-content .section-wrapper").each(function(){var t=$(this).find(".content-wrapper"),i=t.height();$(this).hasClass("active")?!0:!1,i>e?t.css({position:"static"}):t.css({position:"absolute"})})}else $("#main-content .section-wrapper .content-wrapper").css({position:"static"})}
function initialise_general_links_click_events(){$("a.link-scroll").click(function(t){var e=$(this).attr("href");if(void 0===e||""==e||"#"==e)return t.preventDefault(),!1;var i=e.substr(0,1);if("#"==i){if(!($(e).length>0))return!1;$("#main-content").addClass("same_page_link_in_action");var a=$(e).offset().top;$("html, body").stop().animate({scrollTop:a},1500,"easeInOutCubic",function(){$("#main-content").removeClass("same_page_link_in_action"),update_active_sections_on_scroll()}),t.preventDefault()}})}
function initialise_main_menu_click_events(){$("#main-menu .menu-item > a").off("click"),$("#main-menu .menu-item > a").prop("onclick",null),$("#main-menu .menu-item > a").click(function(t){var e=$(this).attr("href"),i=e.substr(0,1),a=$(this).parent(".menu-item"),n=a.attr("id");if(a.hasClass("scroll")&&"#"==i){var s=void 0!==n&&""!=n?n:"";$("#main-content").addClass("same_page_link_in_action");var o=viewport().width>window.xs_screen_max?!0:!1;scroll_to_section(e,s,o),t.preventDefault()}else if(void 0===e||""==e||"#"==e)return t.preventDefault(),!1})}
function scroll_to_section(t,e,i){if(void 0===t||""==t)return!1;var a=$("#main-content "+t+".section-wrapper");if(0==a.length||a.hasClass("active"))return!1;var n=a.offset().top;$("html, body").stop().animate({scrollTop:n},1500,"easeInOutCubic",function(){$("#main-content").removeClass("same_page_link_in_action")}),set_section_to_active(t,e,"",i)}
function set_section_to_active(t,e,i,a){if(void 0!==t&&""!=t){var n=$("#main-content "+t+".section-wrapper");$("#main-menu .menu-item").removeClass("active"),$("#main-content .section-wrapper").removeClass("active");var s=void 0!=e&&""!=e?$("#main-menu #"+e+".menu-item"):"";if(""!=s&&0!=s.length)s.addClass("active");else{var o=t.substr(1);$("#main-menu #menu-item-"+o+".menu-item").addClass("active")}
if(n.addClass("active"),toggle_top_icon_in_main_menu(),0!=a){var r=n.attr("data-custom-background-img"),c=void 0!==r&&""!=r?r:$("#outer-background-container").attr("data-default-background-img");if(void 0!==c&&""!=c){var d=1!=i?1500:550;$("#outer-background-container").backstretch(c,{fade:d})}}}}
function get_all_section_wrappers_in_page(){var t=$("#main-content").find(".section-wrapper");return t}
function update_active_sections_on_scroll(t,e){var i=void 0!==t&&""!=t?t:$("#main-content").find(".section-wrapper"),e=e!==e&&""!=e?e:.25*$(window).height(),a=$(document).scrollTop(),n=i.map(function(){var t=$(this).offset().top-e,i=$(this).height(),n=t+i;return a>t&&n>=a?this:void 0});if(void 0!==n&&""!=n){var s="#"+n.attr("id");n.hasClass("active")||set_section_to_active(s,"",!0)}}
function toggle_top_icon_in_main_menu(){var t=$("#main-menu #menu-item-intro");t.hasClass("active")?t.css({opacity:0}).addClass("main-menu-top-icon-active"):t.css({opacity:.7}).removeClass("main-menu-top-icon-active")}
function preload_section_backgrounds(){var t=get_all_section_wrappers_in_page();t.length>0&&t.each(function(){var t=$(this).attr("data-custom-background-img");if(void 0!==t&&""!=t){var e=new Image;e.src=t}})}
function add_clear_items_to_fix_grid_items_different_heights_issue(){if($("#main-content .grid .grid-item").length>0){var t=$("#main-content .grid");if(t.hasClass("clearfix-for-2cols"))return t.find(".grid-item:nth-of-type(2n+2)").after('<article class="clearfix"></article>'),!1;if(t.hasClass("clearfix-for-3cols"))return t.find(".grid-item:nth-of-type(3n+3)").after('<article class="clearfix"></article>'),!1}}
function effect_fade_out_inactive_grid_items(){$("#main-content .projects-grid.effect-fade-inactive").length>0&&$("#main-content .projects-grid.effect-fade-inactive").each(function(){var t=$(this);t.find(".grid-item .item-content").hover(function(){var e=$(this);e.css({opacity:1}),t.find(".grid-item .item-content").not(e).css({opacity:.3})},function(){var t=$(this);t.css({opacity:.3})}),t.hover(function(){},function(){setTimeout(function(){t.find(".grid-item .item-content").css({opacity:1})},200)})})}
function set_height_of_parent_content_wrappers(){var t=$("#main-content .max-height");t.each(function(){var t=$(this).parents(".content-wrapper");if(t.length>0){t.parents(".section-wrapper").addClass("modified-height");var e=$(this).attr("data-height-percent");void 0===e||""==e||isNaN(e)?t.css({height:"80%"}):t.css({height:e+"%"})}})}
function go_to_top_visibility(){var t=$("#go-to-top");if(t.length>0){var e=$(document).scrollTop();e<viewport().height?t.removeClass("active"):t.addClass("active")}}
function scroll_to_top(){$("html, body").stop().animate({scrollTop:0},1500,"easeInOutCubic",function(){$("#go-to-top").removeClass("active")})}
function load_images(t,e,a){var n=$("."+t);if(n.length>0){var s=new Array;n.each(function(){var t=$(this).attr("data-img-src");if(void 0!==t&&""!=t){var e=new Array;e.img_object=$(this),e.img_src=t,s.push(e)}});var o=new Image,r=s.length;for(i=0;r>i;i++)o.src=s[i].img_src,s[i].img_object.attr("src",s[i].img_src),1==e&&s[i].img_object.removeClass(t),1==a&&i==r-1&&(!jQuery.browser.mobile||viewport().width>window.xs_screen_max)&&sections_content_vertical_position()}}
function fixed_bg_image_dimensions_on_mobile(){var t=$("#outer-background-container");if(t.length>0){var e=t.attr("data-default-background-img");if(void 0!==e&&""!=e)
if(jQuery.browser.mobile)$("body").css({"background-image":"","background-position":"","background-repeat":"","background-size":"","background-attachment":"",background:"#000"}),t.css({opacity:"1"});else{var i=viewport().height+.1*viewport().height;viewport().width+.1*viewport().width;var a=new Image;a.src=e,$("body").css({"background-image":"url("+e+")","background-position":"top center","background-repeat":"no-repeat","background-attachment":"fixed","background-size":"auto "+i+"px, cover"}),t.css({opacity:"0"})}}}
function contact_form_IE9_placeholder_fix(){var t=$("form");t.each(function(){$(this),$(this).find(".form-control").each(function(){var t=$(this).attr("placeholder");void 0!==t&&""!=t&&($(this).val(t),$(this).focus(function(){$(this).val()==t&&$(this).val("")}),$(this).blur(function(){""==$(this).val()&&$(this).val(t)}))})})}
window.xs_screen_max=768,window.sm_screen_max=992;
function initialise_document_ready_functions()
{var section_wrappers=get_all_section_wrappers_in_page();var amount_of_pixels_as_buffer_between_sections=0.25*($(window).height());update_active_sections_on_scroll(section_wrappers,amount_of_pixels_as_buffer_between_sections);sections_content_vertical_position();initialise_general_links_click_events();initialise_main_menu_click_events();effect_fade_out_inactive_grid_items();set_height_of_parent_content_wrappers();$(window).resize(function()
{amount_of_pixels_as_buffer_between_sections=0.25*($(window).height());if(!jQuery.browser.mobile)sections_content_vertical_position();main_menu_visiblity_on_resize();});$(window).scroll(function()
{if(!$("#main-content").hasClass("same_page_link_in_action")&&!jQuery.browser.mobile)
{update_active_sections_on_scroll(section_wrappers,amount_of_pixels_as_buffer_between_sections);}
go_to_top_visibility();});}
$(document).ready(function()
{initialise_document_ready_functions();});function initialise_window_load_functions()
{amount_of_pixels_as_buffer_between_sections=0.25*($(window).height());if(!jQuery.browser.mobile||viewport().width>window.xs_screen_max)sections_content_vertical_position();if(!jQuery.browser.mobile||viewport().width>window.xs_screen_max)preload_section_backgrounds();if(!jQuery.browser.mobile||viewport().width>window.xs_screen_max)add_clear_items_to_fix_grid_items_different_heights_issue();load_images("lazy",true,true);}
$(window).load(function()
{initialise_window_load_functions();});